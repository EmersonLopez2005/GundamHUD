import{y,S as A,r as h,j as g,t as F}from"./entry-index-DK0wTc_i.js";const V={asChild:{type:"boolean"}},S={width:{type:"string",className:"rt-r-w",customProperties:["--width"],responsive:!0},minWidth:{type:"string",className:"rt-r-min-w",customProperties:["--min-width"],responsive:!0},maxWidth:{type:"string",className:"rt-r-max-w",customProperties:["--max-width"],responsive:!0}},T={height:{type:"string",className:"rt-r-h",customProperties:["--height"],responsive:!0},minHeight:{type:"string",className:"rt-r-min-h",customProperties:["--min-height"],responsive:!0},maxHeight:{type:"string",className:"rt-r-max-h",customProperties:["--max-height"],responsive:!0}},w=["initial","xs","sm","md","lg","xl"];function b(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function N(t){return typeof t=="object"&&Object.keys(t).some(e=>w.includes(e))}function R({className:t,customProperties:e,...s}){const n=k({allowArbitraryValues:!0,className:t,...s}),r=D({customProperties:e,...s});return[n,r]}function k({allowArbitraryValues:t,value:e,className:s,propValues:n,parseValue:r=o=>o}){const o=[];if(e){if(typeof e=="string"&&n.includes(e))return _(s,e,r);if(N(e)){const l=e;for(const a in l){if(!b(l,a)||!w.includes(a))continue;const i=l[a];if(i!==void 0){if(n.includes(i)){const c=_(s,i,r),u=a==="initial"?c:`${a}:${c}`;o.push(u)}else if(t){const c=a==="initial"?s:`${a}:${s}`;o.push(c)}}}return o.join(" ")}if(t)return s}}function _(t,e,s){const n=t?"-":"",r=s(e),o=r?.startsWith("-"),l=o?"-":"",a=o?r?.substring(1):r;return`${l}${t}${n}${a}`}function D({customProperties:t,value:e,propValues:s,parseValue:n=r=>r}){let r={};if(!(!e||typeof e=="string"&&s.includes(e))){if(typeof e=="string"&&(r=Object.fromEntries(t.map(o=>[o,e]))),N(e)){const o=e;for(const l in o){if(!b(o,l)||!w.includes(l))continue;const a=o[l];if(!s.includes(a))for(const i of t)r={[l==="initial"?i:`${i}-${l}`]:a,...r}}}for(const o in r){const l=r[o];l!==void 0&&(r[o]=n(l))}return r}}function $(...t){let e={};for(const s of t)s&&(e={...e,...s});return Object.keys(e).length?e:void 0}function E(...t){return Object.assign({},...t)}function O(t,...e){let s,n;const r={...t},o=E(...e);for(const l in o){let a=r[l];const i=o[l];if(i.default!==void 0&&a===void 0&&(a=i.default),i.type==="enum"&&![i.default,...i.values].includes(a)&&!N(a)&&(a=i.default),r[l]=a,"className"in i&&i.className){delete r[l];const c="responsive"in i;if(!a||N(a)&&!c)continue;if(N(a)&&(i.default!==void 0&&a.initial===void 0&&(a.initial=i.default),i.type==="enum"&&([i.default,...i.values].includes(a.initial)||(a.initial=i.default))),i.type==="enum"){const u=k({allowArbitraryValues:!1,value:a,className:i.className,propValues:i.values,parseValue:i.parseValue});s=y(s,u);continue}if(i.type==="string"||i.type==="enum | string"){const u=i.type==="string"?[]:i.values,[v,x]=R({className:i.className,customProperties:i.customProperties,propValues:u,parseValue:i.parseValue,value:a});n=$(n,x),s=y(s,v);continue}if(i.type==="boolean"&&a){s=y(s,i.className);continue}}}return r.className=y(s,t.className),r.style=$(n,t.style),r}const p=["0","1","2","3","4","5","6","7","8","9","-1","-2","-3","-4","-5","-6","-7","-8","-9"],L={m:{type:"enum | string",values:p,responsive:!0,className:"rt-r-m",customProperties:["--m"]},mx:{type:"enum | string",values:p,responsive:!0,className:"rt-r-mx",customProperties:["--ml","--mr"]},my:{type:"enum | string",values:p,responsive:!0,className:"rt-r-my",customProperties:["--mt","--mb"]},mt:{type:"enum | string",values:p,responsive:!0,className:"rt-r-mt",customProperties:["--mt"]},mr:{type:"enum | string",values:p,responsive:!0,className:"rt-r-mr",customProperties:["--mr"]},mb:{type:"enum | string",values:p,responsive:!0,className:"rt-r-mb",customProperties:["--mb"]},ml:{type:"enum | string",values:p,responsive:!0,className:"rt-r-ml",customProperties:["--ml"]}},M=A,U=["div","span"],I=["none","inline","inline-block","block","contents"],B={as:{type:"enum",values:U,default:"div"},...V,display:{type:"enum",className:"rt-r-display",values:I,responsive:!0}},f=["0","1","2","3","4","5","6","7","8","9"],H={p:{type:"enum | string",className:"rt-r-p",customProperties:["--p"],values:f,responsive:!0},px:{type:"enum | string",className:"rt-r-px",customProperties:["--pl","--pr"],values:f,responsive:!0},py:{type:"enum | string",className:"rt-r-py",customProperties:["--pt","--pb"],values:f,responsive:!0},pt:{type:"enum | string",className:"rt-r-pt",customProperties:["--pt"],values:f,responsive:!0},pr:{type:"enum | string",className:"rt-r-pr",customProperties:["--pr"],values:f,responsive:!0},pb:{type:"enum | string",className:"rt-r-pb",customProperties:["--pb"],values:f,responsive:!0},pl:{type:"enum | string",className:"rt-r-pl",customProperties:["--pl"],values:f,responsive:!0}},P=["visible","hidden","clip","scroll","auto"],G=["static","relative","absolute","fixed","sticky"],d=["0","1","2","3","4","5","6","7","8","9","-1","-2","-3","-4","-5","-6","-7","-8","-9"],W=["0","1"],X=["0","1"],Y={...H,...S,...T,position:{type:"enum",className:"rt-r-position",values:G,responsive:!0},inset:{type:"enum | string",className:"rt-r-inset",customProperties:["--inset"],values:d,responsive:!0},top:{type:"enum | string",className:"rt-r-top",customProperties:["--top"],values:d,responsive:!0},right:{type:"enum | string",className:"rt-r-right",customProperties:["--right"],values:d,responsive:!0},bottom:{type:"enum | string",className:"rt-r-bottom",customProperties:["--bottom"],values:d,responsive:!0},left:{type:"enum | string",className:"rt-r-left",customProperties:["--left"],values:d,responsive:!0},overflow:{type:"enum",className:"rt-r-overflow",values:P,responsive:!0},overflowX:{type:"enum",className:"rt-r-ox",values:P,responsive:!0},overflowY:{type:"enum",className:"rt-r-oy",values:P,responsive:!0},flexBasis:{type:"string",className:"rt-r-fb",customProperties:["--flex-basis"],responsive:!0},flexShrink:{type:"enum | string",className:"rt-r-fs",customProperties:["--flex-shrink"],values:W,responsive:!0},flexGrow:{type:"enum | string",className:"rt-r-fg",customProperties:["--flex-grow"],values:X,responsive:!0},gridArea:{type:"string",className:"rt-r-ga",customProperties:["--grid-area"],responsive:!0},gridColumn:{type:"string",className:"rt-r-gc",customProperties:["--grid-column"],responsive:!0},gridColumnStart:{type:"string",className:"rt-r-gcs",customProperties:["--grid-column-start"],responsive:!0},gridColumnEnd:{type:"string",className:"rt-r-gce",customProperties:["--grid-column-end"],responsive:!0},gridRow:{type:"string",className:"rt-r-gr",customProperties:["--grid-row"],responsive:!0},gridRowStart:{type:"string",className:"rt-r-grs",customProperties:["--grid-row-start"],responsive:!0},gridRowEnd:{type:"string",className:"rt-r-gre",customProperties:["--grid-row-end"],responsive:!0}},j=h.forwardRef((t,e)=>{const{className:s,asChild:n,as:r="div",...o}=O(t,B,Y,L);return h.createElement(n?M:r,{...o,ref:e,className:y("rt-Box",s)})});j.displayName="Box";const Z=t=>{const e=Array.from(t);if(e.length!==2)return null;const s=e[0].codePointAt(0),n=e[1].codePointAt(0),r=127462,o=65;if(s>=r&&s<=127487&&n>=r&&n<=127487){const l=String.fromCodePoint(s-r+o),a=String.fromCodePoint(n-r+o);return`${l}${a}`}return null},q=h.memo(({flag:t,size:e})=>{let s,n,r;const o=Z(t);return o?r=o:t&&t.length===2&&/^[a-zA-Z]{2}$/.test(t)?r=t.toUpperCase():r="UN",s=`/assets/flags/${r}.svg`,n=`地区旗帜: ${r}`,g.jsx(j,{as:"span",className:`self-center flex-shrink-0 inline-flex items-center ${e?`w-${e} h-${e}`:"w-6 h-6"}`,"aria-label":n,children:g.jsx("img",{src:s,alt:n,style:{width:"100%",height:"100%",objectFit:"contain"},loading:"lazy"})})});q.displayName="Flag";const K=t=>{const{stats:e}=t,s=e?e.online:!1,n=F(t.price,t.currency,t.billing_cycle),r=e&&s?e.cpu:0,o=e&&s&&t.mem_total>0?e.ram/t.mem_total*100:0,l=e&&s&&t.swap_total>0?e.swap/t.swap_total*100:0,a=e&&s&&t.disk_total>0?e.disk/t.disk_total*100:0,i=e&&s?`${e.load.toFixed(2)} | ${e.load5.toFixed(2)} | ${e.load15.toFixed(2)}`:"N/A",c=t.expired_at&&new Date(t.expired_at).getTime()>0?Math.ceil((new Date(t.expired_at).getTime()-new Date().getTime())/(1e3*60*60*24)):null;let u=null;c!==null&&(c<0?u="已过期<red>":c<=7?u=`余 ${c} 天<red>`:c<=15?u=`余 ${c} 天<orange>`:c<36500?u=`余 ${c} 天<green>`:u="长期<green>");const v=c!==null&&c>36500?"长期":t.expired_at&&new Date(t.expired_at).getTime()>0?new Date(t.expired_at).toLocaleDateString():"未设置",x=[...n?[n]:[],...u?[u]:[],...typeof t.tags=="string"?t.tags.split(";").map(m=>m.trim()).filter(Boolean):[]],C=h.useMemo(()=>{if(!t.traffic_limit||!e||!s)return 0;let m=0;switch(t.traffic_limit_type){case"up":m=e.net_total_up;break;case"down":m=e.net_total_down;break;case"sum":m=e.net_total_up+e.net_total_down;break;case"min":m=Math.min(e.net_total_up,e.net_total_down);break;default:m=Math.max(e.net_total_up,e.net_total_down);break}return m/t.traffic_limit*100},[t.traffic_limit,t.traffic_limit_type,e,s]);return{stats:e,isOnline:s,tagList:x,cpuUsage:r,memUsage:o,swapUsage:l,diskUsage:a,load:i,expired_at:v,trafficPercentage:C}},Q=({value:t,maxValue:e=100,size:s=40,strokeWidth:n=4,className:r="",showPercentage:o=!0,color:l=""})=>{const a=Math.min(100,Math.max(0,t/e*100)),i=s/2-n/2,c=i*2*Math.PI,u=c-a/100*c,v=()=>l||(a>90?"stroke-red-600":a>50?"stroke-yellow-400":"stroke-green-500");return g.jsxs("div",{className:`relative inline-flex ${r}`,children:[g.jsxs("svg",{width:s,height:s,className:"transform -rotate-90",children:[g.jsx("circle",{cx:s/2,cy:s/2,r:i,className:"stroke-(--accent-4)/50",strokeWidth:n,fill:"none"}),g.jsx("circle",{cx:s/2,cy:s/2,r:i,className:v(),strokeWidth:n,strokeDasharray:c,strokeDashoffset:u,strokeLinecap:"round",fill:"none"})]}),o&&g.jsxs("div",{className:"absolute inset-0 flex items-center justify-center text-xs font-medium",children:[a.toFixed(0),"%"]})]})};export{Q as C,q as F,Y as a,T as b,M as e,V as o,L as r,S as t,K as u,O as v};
