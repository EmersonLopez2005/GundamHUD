import{r as P,y as mt,R as w,v as st,j as m,a as ft,i as ht,k as yt,f as k,m as vt}from"./entry-index-DK0wTc_i.js";import{f as R,L as z,m as W,i as I,C as Y,A as xt,a as T,b as tt,c as bt,d as et,h as gt,e as At,u as wt,g as U,G as jt,j as at,k as rt,D as _t,l as Pt,X as ot,Y as lt,n as Dt,R as Ot,o as G,p as kt,q as Lt,r as Nt,s as Et,T as Ct,t as St,v as Ft}from"./chunk-chartHelper-BdgZw1x1.js";import{C as $t,a as Rt,b as Tt}from"./chunk-card-Bf39RBRU.js";import{o as It,v as Kt,r as Mt,a as Bt,e as zt}from"./chunk-progress-circle-DvZ4GioP.js";import"./chunk-react-vendor-c5ypKtDW.js";const q=["0","1","2","3","4","5","6","7","8","9"],Vt={gap:{type:"enum | string",className:"rt-r-gap",customProperties:["--gap"],values:q,responsive:!0},gapX:{type:"enum | string",className:"rt-r-cg",customProperties:["--column-gap"],values:q,responsive:!0},gapY:{type:"enum | string",className:"rt-r-rg",customProperties:["--row-gap"],values:q,responsive:!0}},Wt=["div","span"],Ht=["none","inline-flex","flex"],Xt=["row","column","row-reverse","column-reverse"],Yt=["start","center","end","baseline","stretch"],Gt=["start","center","end","between"],qt=["nowrap","wrap","wrap-reverse"],Ut={as:{type:"enum",values:Wt,default:"div"},...It,display:{type:"enum",className:"rt-r-display",values:Ht,responsive:!0},direction:{type:"enum",className:"rt-r-fd",values:Xt,responsive:!0},align:{type:"enum",className:"rt-r-ai",values:Yt,responsive:!0},justify:{type:"enum",className:"rt-r-jc",values:Gt,parseValue:Jt,responsive:!0},wrap:{type:"enum",className:"rt-r-fw",values:qt,responsive:!0},...Vt};function Jt(t){return t==="between"?"space-between":t}const H=P.forwardRef((t,e)=>{const{className:r,asChild:a,as:n="div",...o}=Kt(t,Ut,Bt,Mt);return P.createElement(a?zt:n,{...o,ref:e,className:mt("rt-Flex",r)})});H.displayName="Flex";var Qt=["layout","type","stroke","connectNulls","isRange","ref"],Zt=["key"],ct;function K(t){"@babel/helpers - typeof";return K=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},K(t)}function ut(t,e){if(t==null)return{};var r=te(t,e),a,n;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(n=0;n<o.length;n++)a=o[n],!(e.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(t,a)&&(r[a]=t[a])}return r}function te(t,e){if(t==null)return{};var r={};for(var a in t)if(Object.prototype.hasOwnProperty.call(t,a)){if(e.indexOf(a)>=0)continue;r[a]=t[a]}return r}function $(){return $=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},$.apply(this,arguments)}function nt(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),r.push.apply(r,a)}return r}function S(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?nt(Object(r),!0).forEach(function(a){C(t,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):nt(Object(r)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(r,a))})}return t}function ee(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function it(t,e){for(var r=0;r<e.length;r++){var a=e[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,dt(a.key),a)}}function ae(t,e,r){return e&&it(t.prototype,e),r&&it(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function re(t,e,r){return e=X(e),ne(t,pt()?Reflect.construct(e,r||[],X(t).constructor):e.apply(t,r))}function ne(t,e){if(e&&(K(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ie(t)}function ie(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function pt(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pt=function(){return!!t})()}function X(t){return X=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},X(t)}function se(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&J(t,e)}function J(t,e){return J=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,n){return a.__proto__=n,a},J(t,e)}function C(t,e,r){return e=dt(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function dt(t){var e=oe(t,"string");return K(e)=="symbol"?e:e+""}function oe(t,e){if(K(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var a=r.call(t,e);if(K(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var F=function(t){function e(){var r;ee(this,e);for(var a=arguments.length,n=new Array(a),o=0;o<a;o++)n[o]=arguments[o];return r=re(this,e,[].concat(n)),C(r,"state",{isAnimationFinished:!0}),C(r,"id",wt("recharts-area-")),C(r,"handleAnimationEnd",function(){var s=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),U(s)&&s()}),C(r,"handleAnimationStart",function(){var s=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),U(s)&&s()}),r}return se(e,t),ae(e,[{key:"renderDots",value:function(a,n,o){var s=this.props.isAnimationActive,c=this.state.isAnimationFinished;if(s&&!c)return null;var p=this.props,d=p.dot,x=p.points,v=p.dataKey,y=R(this.props,!1),j=R(d,!0),_=x.map(function(f,D){var u=S(S(S({key:"dot-".concat(D),r:3},y),j),{},{index:D,cx:f.x,cy:f.y,dataKey:v,value:f.value,payload:f.payload,points:x});return e.renderDotItem(d,u)}),i={clipPath:a?"url(#clipPath-".concat(n?"":"dots-").concat(o,")"):null};return w.createElement(z,$({className:"recharts-area-dots"},i),_)}},{key:"renderHorizontalRect",value:function(a){var n=this.props,o=n.baseLine,s=n.points,c=n.strokeWidth,p=s[0].x,d=s[s.length-1].x,x=a*Math.abs(p-d),v=W(s.map(function(y){return y.y||0}));return I(o)&&typeof o=="number"?v=Math.max(o,v):o&&Array.isArray(o)&&o.length&&(v=Math.max(W(o.map(function(y){return y.y||0})),v)),I(v)?w.createElement("rect",{x:p<d?p:p-x,y:0,width:x,height:Math.floor(v+(c?parseInt("".concat(c),10):1))}):null}},{key:"renderVerticalRect",value:function(a){var n=this.props,o=n.baseLine,s=n.points,c=n.strokeWidth,p=s[0].y,d=s[s.length-1].y,x=a*Math.abs(p-d),v=W(s.map(function(y){return y.x||0}));return I(o)&&typeof o=="number"?v=Math.max(o,v):o&&Array.isArray(o)&&o.length&&(v=Math.max(W(o.map(function(y){return y.x||0})),v)),I(v)?w.createElement("rect",{x:0,y:p<d?p:p-x,width:v+(c?parseInt("".concat(c),10):1),height:Math.floor(x)}):null}},{key:"renderClipRect",value:function(a){var n=this.props.layout;return n==="vertical"?this.renderVerticalRect(a):this.renderHorizontalRect(a)}},{key:"renderAreaStatically",value:function(a,n,o,s){var c=this.props,p=c.layout,d=c.type,x=c.stroke,v=c.connectNulls,y=c.isRange;c.ref;var j=ut(c,Qt);return w.createElement(z,{clipPath:o?"url(#clipPath-".concat(s,")"):null},w.createElement(Y,$({},R(j,!0),{points:a,connectNulls:v,type:d,baseLine:n,layout:p,stroke:"none",className:"recharts-area-area"})),x!=="none"&&w.createElement(Y,$({},R(this.props,!1),{className:"recharts-area-curve",layout:p,type:d,connectNulls:v,fill:"none",points:a})),x!=="none"&&y&&w.createElement(Y,$({},R(this.props,!1),{className:"recharts-area-curve",layout:p,type:d,connectNulls:v,fill:"none",points:n})))}},{key:"renderAreaWithAnimation",value:function(a,n){var o=this,s=this.props,c=s.points,p=s.baseLine,d=s.isAnimationActive,x=s.animationBegin,v=s.animationDuration,y=s.animationEasing,j=s.animationId,_=this.state,i=_.prevPoints,f=_.prevBaseLine;return w.createElement(xt,{begin:x,duration:v,isActive:d,easing:y,from:{t:0},to:{t:1},key:"area-".concat(j),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(D){var u=D.t;if(i){var b=i.length/c.length,l=c.map(function(O,N){var A=Math.floor(N*b);if(i[A]){var E=i[A],M=T(E.x,O.x),B=T(E.y,O.y);return S(S({},O),{},{x:M(u),y:B(u)})}return O}),h;if(I(p)&&typeof p=="number"){var g=T(f,p);h=g(u)}else if(tt(p)||bt(p)){var L=T(f,0);h=L(u)}else h=p.map(function(O,N){var A=Math.floor(N*b);if(f[A]){var E=f[A],M=T(E.x,O.x),B=T(E.y,O.y);return S(S({},O),{},{x:M(u),y:B(u)})}return O});return o.renderAreaStatically(l,h,a,n)}return w.createElement(z,null,w.createElement("defs",null,w.createElement("clipPath",{id:"animationClipPath-".concat(n)},o.renderClipRect(u))),w.createElement(z,{clipPath:"url(#animationClipPath-".concat(n,")")},o.renderAreaStatically(c,p,a,n)))})}},{key:"renderArea",value:function(a,n){var o=this.props,s=o.points,c=o.baseLine,p=o.isAnimationActive,d=this.state,x=d.prevPoints,v=d.prevBaseLine,y=d.totalLength;return p&&s&&s.length&&(!x&&y>0||!et(x,s)||!et(v,c))?this.renderAreaWithAnimation(a,n):this.renderAreaStatically(s,c,a,n)}},{key:"render",value:function(){var a,n=this.props,o=n.hide,s=n.dot,c=n.points,p=n.className,d=n.top,x=n.left,v=n.xAxis,y=n.yAxis,j=n.width,_=n.height,i=n.isAnimationActive,f=n.id;if(o||!c||!c.length)return null;var D=this.state.isAnimationFinished,u=c.length===1,b=st("recharts-area",p),l=v&&v.allowDataOverflow,h=y&&y.allowDataOverflow,g=l||h,L=tt(f)?this.id:f,O=(a=R(s,!1))!==null&&a!==void 0?a:{r:3,strokeWidth:2},N=O.r,A=N===void 0?3:N,E=O.strokeWidth,M=E===void 0?2:E,B=gt(s)?s:{},Q=B.clipDot,Z=Q===void 0?!0:Q,V=A*2+M;return w.createElement(z,{className:b},l||h?w.createElement("defs",null,w.createElement("clipPath",{id:"clipPath-".concat(L)},w.createElement("rect",{x:l?x:x-j/2,y:h?d:d-_/2,width:l?j:j*2,height:h?_:_*2})),!Z&&w.createElement("clipPath",{id:"clipPath-dots-".concat(L)},w.createElement("rect",{x:x-V/2,y:d-V/2,width:j+V,height:_+V}))):null,u?null:this.renderArea(g,L),(s||u)&&this.renderDots(g,Z,L),(!i||D)&&At.renderCallByParent(this.props,c))}}],[{key:"getDerivedStateFromProps",value:function(a,n){return a.animationId!==n.prevAnimationId?{prevAnimationId:a.animationId,curPoints:a.points,curBaseLine:a.baseLine,prevPoints:n.curPoints,prevBaseLine:n.curBaseLine}:a.points!==n.curPoints||a.baseLine!==n.curBaseLine?{curPoints:a.points,curBaseLine:a.baseLine}:null}}])}(P.PureComponent);ct=F;C(F,"displayName","Area");C(F,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!jt.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});C(F,"getBaseValue",function(t,e,r,a){var n=t.layout,o=t.baseValue,s=e.props.baseValue,c=s??o;if(I(c)&&typeof c=="number")return c;var p=n==="horizontal"?a:r,d=p.scale.domain();if(p.type==="number"){var x=Math.max(d[0],d[1]),v=Math.min(d[0],d[1]);return c==="dataMin"?v:c==="dataMax"||x<0?x:Math.max(Math.min(d[0],d[1]),0)}return c==="dataMin"?d[0]:c==="dataMax"?d[1]:d[0]});C(F,"getComposedData",function(t){var e=t.props,r=t.item,a=t.xAxis,n=t.yAxis,o=t.xAxisTicks,s=t.yAxisTicks,c=t.bandSize,p=t.dataKey,d=t.stackedData,x=t.dataStartIndex,v=t.displayedData,y=t.offset,j=e.layout,_=d&&d.length,i=ct.getBaseValue(e,r,a,n),f=j==="horizontal",D=!1,u=v.map(function(l,h){var g;_?g=d[x+h]:(g=at(l,p),Array.isArray(g)?D=!0:g=[i,g]);var L=g[1]==null||_&&at(l,p)==null;return f?{x:rt({axis:a,ticks:o,bandSize:c,entry:l,index:h}),y:L?null:n.scale(g[1]),value:g,payload:l}:{x:L?null:a.scale(g[1]),y:rt({axis:n,ticks:s,bandSize:c,entry:l,index:h}),value:g,payload:l}}),b;return _||D?b=u.map(function(l){var h=Array.isArray(l.value)?l.value[0]:null;return f?{x:l.x,y:h!=null&&l.y!=null?n.scale(h):null}:{x:h!=null?a.scale(h):null,y:l.y}}):b=f?n.scale(i):a.scale(i),S({points:u,baseLine:b,layout:j,isRange:D},y)});C(F,"renderDotItem",function(t,e){var r;if(w.isValidElement(t))r=w.cloneElement(t,e);else if(U(t))r=t(e);else{var a=st("recharts-area-dot",typeof t!="boolean"?t.className:""),n=e.key,o=ut(e,Zt);r=w.createElement(_t,$({},o,{key:n,className:a}))}return r});var le=Pt({chartName:"AreaChart",GraphicalChild:F,axisComponents:[{axisType:"xAxis",AxisComp:ot},{axisType:"yAxis",AxisComp:lt}],formatAxisMap:Dt});const ce={light:"",dark:".dark"},ue=P.createContext(null);function pe({id:t,className:e,children:r,config:a,...n}){const o=P.useId(),s=`chart-${t||o.replace(/:/g,"")}`;return m.jsx(ue.Provider,{value:{config:a},children:m.jsxs("div",{"data-slot":"chart","data-chart":s,className:ft("flex justify-center text-xs",e),style:{position:"relative",overflow:"hidden"},...n,children:[m.jsx(de,{id:s,config:a}),m.jsx(Ot,{width:"100%",height:"100%",debounce:50,style:{position:"relative",overflow:"hidden"},children:r})]})})}const de=({id:t,config:e})=>{const r=Object.entries(e).filter(([,a])=>a.theme||a.color);return r.length?m.jsx("style",{dangerouslySetInnerHTML:{__html:Object.entries(ce).map(([a,n])=>`
${n} [data-chart=${t}] {
${r.map(([o,s])=>{const c=s.theme?.[a]||s.color;return c?`  --color-${o}: ${c};`:null}).join(`
`)}
}
`).join(`
`)}}):null},me=(t,e)=>{const{getLoadHistory:r,getRecentLoadHistory:a}=ht(),{liveData:n}=yt(),[o,s]=P.useState([]),[c,p]=P.useState([]),[d,x]=P.useState(!0),[v,y]=P.useState(null),[j,_]=P.useState(!1),i=e===0;P.useEffect(()=>{if(i||!t?.uuid)return;(async()=>{x(!0),y(null);try{const l=(await r(t.uuid,e))?.records||[];s(l),_(l.length===0),p([])}catch(b){y(b.message||"Failed to fetch historical data")}finally{x(!1)}})()},[t?.uuid,e,r,i,j]),P.useEffect(()=>{if(!i||!t?.uuid)return;(async()=>{x(!0),y(null);try{const b=await a(t.uuid);p(b?.records||[]),s([])}catch(b){y(b.message||"Failed to fetch initial real-time data")}finally{x(!1)}})()},[t?.uuid,a,i]),P.useEffect(()=>{if(!i||!t?.uuid||!n||!n[t.uuid])return;const u=n[t.uuid],b={client:t.uuid,time:new Date(u.time).toISOString(),cpu:u.cpu,ram:u.ram,disk:u.disk,load:u.load,net_in:u.net_in,net_out:u.net_out,process:u.process,connections:u.connections,gpu:u.gpu,ram_total:u.ram_total,swap:u.swap,swap_total:u.swap_total,temp:u.temp,disk_total:u.disk_total,net_total_up:u.net_total_up,net_total_down:u.net_total_down,connections_udp:u.connections_udp};p(l=>{if(l.length>0&&new Date(l[l.length-1].time).getTime()===new Date(b.time).getTime())return l;const h=[...l,b];return h.length>600?h.slice(h.length-600):h})},[n,t?.uuid,i]);const f=P.useMemo(()=>{const b=(i?c:o).map(A=>({...A,time:new Date(A.time).getTime()}));if(i)return b;const l=60,h=l*60,g=b.map(A=>({...A,time:new Date(A.time).toISOString()})),L=e===1||e===4?l:e>120?h:l*15,O=new Date;if(g.length>0){const A=new Date(g[g.length-1].time).getTime();O.getTime()-A>L*1e3&&g.push({time:O.toISOString()})}let N;if(e===1)N=G(g,l,h,l*2);else if(e===4)N=G(g,l,h*4,l*2);else{const A=e>120?h:l*15,E=A*2;N=G(g,A,h*e,E)}return N.map(A=>({...A,time:new Date(A.time).getTime()}))},[i,c,o,e]),D=P.useMemo(()=>f.map(u=>({...u,ram:(u.ram??0)/(t?.mem_total??1)*100,ram_raw:u.ram,swap:(u.swap??0)/(t?.swap_total??1)*100,swap_raw:u.swap})),[f,t?.mem_total,t?.swap_total]);return{loading:d,error:v,chartData:f,memoryChartData:D,isDataEmpty:j}},be=P.memo(({node:t,hours:e,liveData:r,isOnline:a})=>{const{loading:n,error:o,chartData:s,memoryChartData:c,isDataEmpty:p}=me(t,e),d=P.useRef(0);d.current=s.length;const x="flex flex-col w-full overflow-hidden",v={top:8,right:16,bottom:8,left:16},y=["#F38181","#FCE38A","#EAFFD0","#95E1D3"],j=[{id:"cpu",title:"CPU",type:"area",value:r?.cpu?`${r.cpu.toFixed(2)}%`:"-",dataKey:"cpu",yAxisDomain:[0,100],yAxisFormatter:(i,f)=>f!==0?`${i}%`:"",color:y[0],data:s,tooltipFormatter:i=>`${i.toFixed(2)}%`,tooltipLabel:"CPU 使用率"},{id:"memory",title:"内存",type:"area",value:m.jsxs(H,{gap:"0",direction:"column",align:"end",children:[m.jsx("label",{children:r?.ram?`${k(r.ram)} / ${k(t?.mem_total||0)}`:"N/A"}),m.jsx("label",{children:t?.swap_total===0?"OFF":r?.swap?`${k(r.swap)} / ${k(t?.swap_total||0)}`:"N/A"})]}),series:[{dataKey:"ram",color:y[0],tooltipLabel:"内存",tooltipFormatter:(i,f)=>`${k(f?.ram_raw||0)} (${i.toFixed(0)}%)`},{dataKey:"swap",color:y[1],tooltipLabel:"交换",tooltipFormatter:(i,f)=>t.swap_total===0?"OFF":`${k(f?.swap_raw||0)} (${i.toFixed(0)}%)`}],yAxisDomain:[0,100],yAxisFormatter:(i,f)=>f!==0?`${i}%`:"",data:c},{id:"disk",title:"磁盘",type:"area",value:r?.disk?`${k(r.disk)} / ${k(t?.disk_total||0)}`:"-",dataKey:"disk",yAxisDomain:[0,t?.disk_total||100],yAxisFormatter:(i,f)=>f!==0?k(i):"",color:y[0],data:s,tooltipFormatter:i=>k(i),tooltipLabel:"磁盘使用"},{id:"network",title:"网络",type:"line",value:m.jsx(m.Fragment,{children:m.jsxs(H,{gap:"0",align:"end",direction:"column",children:[m.jsxs("span",{children:["↑ ",k(r?.net_out||0),"/s"]}),m.jsxs("span",{children:["↓ ",k(r?.net_in||0),"/s"]})]})}),series:[{dataKey:"net_in",color:y[0],tooltipLabel:"下载",tooltipFormatter:i=>`${k(i)}/s`},{dataKey:"net_out",color:y[3],tooltipLabel:"上传",tooltipFormatter:i=>`${k(i)}/s`}],yAxisFormatter:(i,f)=>f!==0?k(i):"",data:s},{id:"connections",title:"连接数",type:"line",value:m.jsxs(H,{gap:"0",align:"end",direction:"column",children:[m.jsxs("span",{children:["TCP: ",r?.connections]}),m.jsxs("span",{children:["UDP: ",r?.connections_udp]})]}),series:[{dataKey:"connections",color:y[0],tooltipLabel:"TCP 连接"},{dataKey:"connections_udp",color:y[1],tooltipLabel:"UDP 连接"}],yAxisFormatter:(i,f)=>f!==0?`${i}`:"",data:s},{id:"process",title:"进程数",type:"line",value:r?.process||"-",dataKey:"process",color:y[0],yAxisFormatter:(i,f)=>f!==0?`${i}`:"",data:s,tooltipLabel:"进程数"}],_=i=>{const f=i.type==="area"?le:kt,D=i.type==="area"?F:Lt,u={height:140,style:{overflow:"visible"}},b=i.series?i.series.reduce((l,h)=>(l[h.dataKey]={label:h.tooltipLabel||h.dataKey,color:h.color},l),{}):{[i.dataKey]:{label:i.tooltipLabel||i.dataKey,color:i.color}};return m.jsxs($t,{className:x,style:{height:"220px"},children:[m.jsxs(Rt,{className:"flex flex-row items-center justify-between space-y-0 pb-1 h-[80px]",children:[m.jsx(Tt,{className:"text-sm font-medium",children:i.title}),m.jsx("div",{className:"text-sm font-bold min-h-[20px] flex items-center",children:i.value})]}),m.jsx("div",{className:"h-[150px] w-full px-2 pb-2 align-bottom",style:{minHeight:0},children:m.jsx(pe,{config:b,className:"h-full w-full",children:m.jsxs(f,{data:i.data,margin:v,...u,children:[m.jsx(Nt,{strokeDasharray:"2 4",stroke:"var(--theme-line-muted-color)",vertical:!1}),m.jsx(ot,{dataKey:"time",tickLine:!1,axisLine:{stroke:"var(--theme-text-muted-color)"},tick:{fill:"var(--theme-text-muted-color)"},tickFormatter:(l,h)=>Et(l,h,d.current),interval:0,height:20}),m.jsx(lt,{tickLine:!1,axisLine:!1,domain:i.yAxisDomain,tickFormatter:i.yAxisFormatter,orientation:"left",type:"number",tick:{dx:-8,fill:"var(--theme-text-muted-color)"},width:200,mirror:!0}),m.jsx(Ct,{cursor:!1,content:l=>m.jsx(St,{...l,chartConfig:i,labelFormatter:h=>Ft(h,e)})}),i.series?i.series.map(l=>m.jsx(D,{dataKey:l.dataKey,animationDuration:0,stroke:l.color,fill:i.type==="area"?l.color:void 0,opacity:.8,dot:!1},l.dataKey)):m.jsx(D,{dataKey:i.dataKey,animationDuration:0,stroke:i.color,fill:i.type==="area"?i.color:void 0,opacity:.8,dot:!1})]})})})]},i.id)};return m.jsxs("div",{className:"relative",children:[n&&m.jsx("div",{className:"absolute inset-0 flex items-center justify-center purcarte-blur rounded-lg z-10",children:m.jsx(vt,{text:"正在加载图表数据..."})}),o&&m.jsx("div",{className:"absolute inset-0 flex items-center justify-center purcarte-blur rounded-lg z-10",children:m.jsx("p",{className:"text-red-500",children:o})}),!a&&!n&&e===0&&m.jsx("div",{className:"absolute inset-0 flex items-center justify-center purcarte-blur rounded-lg z-10",children:m.jsx("p",{className:"text-lg font-semibold",children:"节点已离线，无法获取实时数据"})}),p&&!n&&e>0&&m.jsx("div",{className:"absolute inset-0 flex items-center justify-center purcarte-blur rounded-lg z-10",children:m.jsxs("p",{className:"text-lg font-semibold",children:["离线时间超过 ",e," 小时，未找到任何数据"]})}),m.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",style:{minHeight:0,overflow:"hidden"},children:j.map(_)})]})});export{be as default};
