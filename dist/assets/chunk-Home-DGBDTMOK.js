import{r as u,S as te,y as ie,c as O,R as D,u as G,j as e,a as P,b as re,g as le,L as R,f as d,d as C,e as W,h as ne,i as ce,k as oe,l as de,m as xe,n as me,B as _,o as ue}from"./entry-index-DK0wTc_i.js";import{C as B,a as V,b as H,c as he,d as fe,e as pe}from"./chunk-card-Bf39RBRU.js";import{o as je,v as ge,r as ve,u as I,F as q,C as K}from"./chunk-progress-circle-DvZ4GioP.js";import{o as Ne,s as ye,T as we}from"./chunk-tips-CZ7npuTU.js";import"./chunk-react-vendor-c5ypKtDW.js";const ke=["none","small","medium","large","full"],be={radius:{type:"enum",values:ke,default:void 0}},_e=["1","2","3"],Ce=["solid","soft","surface","outline"],Me={...je,size:{type:"enum",className:"rt-r-size",values:_e,default:"1",responsive:!0},variant:{type:"enum",className:"rt-variant",values:Ce,default:"soft"},...ye,...Ne,...be},Z=u.forwardRef((s,n)=>{const{asChild:c,className:a,color:t,radius:r,...o}=ge(s,Me,ve),l=c?te:"span";return u.createElement(l,{"data-accent-color":t,"data-radius":r,...o,ref:n,className:ie("rt-reset","rt-Badge",a)})});Z.displayName="Badge";const Se=[{name:"Alibaba",image:"/assets/os-alibaba.svg",keywords:["alibaba"]},{name:"AlmaLinux",image:"/assets/os-alma.svg",keywords:["alma","almalinux"]},{name:"Alpine Linux",image:"/assets/os-alpine.webp",keywords:["alpine","alpine linux"]},{name:"Arch Linux",image:"/assets/os-arch.svg",keywords:["arch","archlinux","arch linux"]},{name:"Armbian",image:"/assets/os-armbian.svg",keywords:["armbian"]},{name:"CentOS",image:"/assets/os-centos.svg",keywords:["centos","cent os"]},{name:"Debian",image:"/assets/os-debian.svg",keywords:["debian","deb"]},{name:"Fedora",image:"/assets/os-fedora.svg",keywords:["fedora"]},{name:"FreeBSD",image:"/assets/os-freebsd.svg",keywords:["freebsd","bsd"]},{name:"Gentoo",image:"/assets/os-gentoo.svg",keywords:["gentoo"]},{name:"ImmortalWrt",image:"/assets/os-openwrt.svg",keywords:["immortalwrt","immortal","emmortal"]},{name:"iStoreOS",image:"/assets/os-istore.png",keywords:["istore","istoreos","istore os"]},{name:"Kali Linux",image:"/assets/os-kail.svg",keywords:["kail","kali","kali linux"]},{name:"Linux Mint",image:"/assets/os-mint.svg",keywords:["mint","linux mint"]},{name:"macOS",image:"/assets/os-macos.svg",keywords:["macos"]},{name:"Manjaro",image:"/assets/os-manjaro-.svg",keywords:["manjaro"]},{name:"NixOS",image:"/assets/os-nix.svg",keywords:["nixos","nix os","nix"]},{name:"OpenCloudOS",image:"/assets/os-opencloud.svg",keywords:["opencloud"]},{name:"openSUSE",image:"/assets/os-openSUSE.svg",keywords:["opensuse","suse"]},{name:"OpenWrt",image:"/assets/os-openwrt.svg",keywords:["openwrt","open wrt","open-wrt","qwrt"]},{name:"Proxmox VE",image:"/assets/os-proxmox.ico",keywords:["proxmox","proxmox ve"]},{name:"Red Hat",image:"/assets/os-redhat.svg",keywords:["redhat","rhel","red hat"]},{name:"Rocky Linux",image:"/assets/os-rocky.svg",keywords:["rocky","rocky linux"]},{name:"Synology DSM",image:"/assets/os-synology.ico",keywords:["synology","dsm","synology dsm"]},{name:"Ubuntu",image:"/assets/os-ubuntu.svg",keywords:["ubuntu","elementary"]},{name:"Windows",image:"/assets/os-windows.svg",keywords:["windows","win","microsoft","ms"]}],E={name:"Unknown",image:"/assets/TablerHelp.svg",keywords:["unknown"]};function $e(s){if(!s)return E;const n=s.toLowerCase().trim();for(const c of Se)for(const a of c.keywords)if(n.includes(a))return c;return E}function Le(s){return $e(s).image}/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fe=[["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M17 20v2",key:"1rnc9c"}],["path",{d:"M17 2v2",key:"11trls"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M2 17h2",key:"7oei6x"}],["path",{d:"M2 7h2",key:"asdhe0"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"M20 17h2",key:"1fpfkl"}],["path",{d:"M20 7h2",key:"1o8tra"}],["path",{d:"M7 20v2",key:"4gnj0m"}],["path",{d:"M7 2v2",key:"1i4yhu"}],["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"8",y:"8",width:"8",height:"8",rx:"1",key:"z9xiuo"}]],J=O("cpu",Fe);/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ae=[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]],Q=O("hard-drive",Ae);/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oe=[["path",{d:"M6 19v-3",key:"1nvgqn"}],["path",{d:"M10 19v-3",key:"iu8nkm"}],["path",{d:"M14 19v-3",key:"kcehxu"}],["path",{d:"M18 19v-3",key:"1vh91z"}],["path",{d:"M8 11V9",key:"63erz4"}],["path",{d:"M16 11V9",key:"fru6f3"}],["path",{d:"M12 11V9",key:"ha00sb"}],["path",{d:"M2 15h20",key:"16ne18"}],["path",{d:"M2 7a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v1.1a2 2 0 0 0 0 3.837V17a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2v-5.1a2 2 0 0 0 0-3.837Z",key:"lhddv3"}]],A=O("memory-stick",Oe),X=s=>{const n=s.match(/<(\w+)>$/);if(n&&n){const c=n[1].toLowerCase(),a=s.replace(/<\w+>$/,"");if(re.includes(c))return{text:a,color:c}}return{text:s,color:null}},ze=({tag:s,badgeColor:n,enableTransparentTags:c})=>{const[a,t]=u.useState(!1),r=u.useRef(null),{text:o}=X(s);u.useLayoutEffect(()=>{const x=r.current;x&&x.scrollWidth>x.clientWidth&&t(!0)},[o]);const l=c?e.jsx("div",{ref:r,"data-accent-color":n,className:P("rt-reset rt-Badge rt-r-size-1 transition-colors rt-Badge-tag-transparent !block !flex-shrink overflow-hidden text-ellipsis"),children:o}):e.jsx(Z,{ref:r,color:n,variant:"surface",className:"text-sm !block !flex-shrink overflow-hidden !text-ellipsis",children:e.jsx("label",{className:"text-xs",children:o})});return a?e.jsx(we,{className:"w-full",mode:"popup",side:"top",trigger:l,children:o}):l},z=D.forwardRef(({className:s,tags:n,...c},a)=>{const{enableTransparentTags:t,tagDefaultColorList:r}=G(),o=D.useMemo(()=>r.split(",").map(l=>l.trim()),[r]);return e.jsx("div",{ref:a,className:P("flex flex-wrap gap-1 w-full",s),...c,children:n.map((l,x)=>{const{color:h}=X(l),j=h||o[x%o.length];return e.jsx(ze,{tag:l,badgeColor:j,enableTransparentTags:t},x)})})});z.displayName="Tag";const p=({value:s,h:n="h-3",className:c})=>{const a=Math.max(0,Math.min(100,s)),t=a<10?"rounded-sm":"rounded-full";return e.jsx("div",{className:`w-full bg-(--accent-4)/50 rounded-full ${n} overflow-hidden`,children:e.jsx("div",{className:`${n} ${t} transition-all duration-500 ${le(a)} ${c}`,style:{width:`${a}%`}})})},Ue=({node:s,enableSwap:n,selectTrafficProgressStyle:c})=>{const{stats:a,isOnline:t,tagList:r,cpuUsage:o,memUsage:l,swapUsage:x,diskUsage:h,load:j,expired_at:N,trafficPercentage:m}=I(s);return e.jsxs(B,{className:`flex flex-col mx-auto purcarte-blur w-full min-w-[280px] max-w-sm ${t?"":"striped-bg-red-translucent-diagonal ring-2 ring-red-500/50"}`,children:[e.jsx(V,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:e.jsx(R,{to:`/instance/${s.uuid}`,children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(q,{flag:s.region}),e.jsx("img",{src:Le(s.os),alt:s.os,className:"w-6 h-6 object-contain",loading:"lazy"}),e.jsx(H,{className:"text-base font-bold",children:s.name})]})})}),e.jsxs(he,{className:"flex-grow space-y-3 text-sm text-nowrap",children:[e.jsx("div",{className:"flex flex-wrap gap-1",children:e.jsx(z,{tags:r})}),e.jsx("div",{className:"border-t border-(--accent-4)/50 my-2"}),e.jsxs("div",{className:"flex items-center justify-around whitespace-nowrap",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(J,{className:"size-4 text-blue-600 flex-shrink-0"}),e.jsxs("span",{className:"text-secondary-foreground",children:[s.cpu_cores," Cores"]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(A,{className:"size-4 text-green-600 flex-shrink-0"}),e.jsx("span",{className:"text-secondary-foreground",children:d(s.mem_total)})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Q,{className:"size-4 text-red-600 flex-shrink-0"}),e.jsx("span",{className:"text-secondary-foreground",children:d(s.disk_total)})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-secondary-foreground",children:"CPU"}),e.jsxs("div",{className:"w-3/4 flex items-center gap-2",children:[e.jsx(p,{value:o}),e.jsxs("span",{className:"w-12 text-right",children:[o.toFixed(0),"%"]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-secondary-foreground",children:"内存"}),e.jsxs("div",{className:"w-3/4 flex items-center gap-2",children:[e.jsx(p,{value:l}),e.jsxs("span",{className:"w-12 text-right",children:[l.toFixed(0),"%"]})]})]}),n&&e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-secondary-foreground",children:"SWAP"}),e.jsxs("div",{className:"w-3/4 flex items-center gap-2",children:[e.jsx(p,{value:x}),s.swap_total>0?e.jsxs("span",{className:"w-12 text-right",children:[x.toFixed(0),"%"]}):e.jsx("span",{className:"w-12 text-right",children:"OFF"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-secondary-foreground",children:"硬盘"}),e.jsxs("div",{className:"w-3/4 flex items-center gap-2",children:[e.jsx(p,{value:h}),e.jsxs("span",{className:"w-12 text-right",children:[h.toFixed(0),"%"]})]})]}),c==="linear"&&t&&a&&e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-secondary-foreground",children:"流量"}),e.jsxs("div",{className:"w-3/4 flex items-center gap-2",children:[e.jsx(p,{value:m}),e.jsx("span",{className:"w-12 text-right",children:s.traffic_limit!==0?`${m.toFixed(0)}%`:"OFF"})]})]}),e.jsxs("div",{className:"flex text-xs items-center justify-between text-secondary-foreground",children:[e.jsx("span",{children:C(s.traffic_limit,s.traffic_limit_type)}),e.jsx("span",{children:a?`↑ ${d(a.net_total_up)} ↓ ${d(a.net_total_down)}`:"N/A"})]})]}),e.jsx("div",{className:"border-t border-(--accent-4)/50 my-2"}),e.jsxs("div",{className:"flex justify-between text-xs",children:[e.jsx("span",{className:"text-secondary-foreground",children:"网络："}),e.jsxs("div",{children:[e.jsxs("span",{children:["↑ ",a?d(a.net_out,!0):"N/A"]}),e.jsxs("span",{className:"ml-2",children:["↓ ",a?d(a.net_in,!0):"N/A"]})]})]}),c==="circular"&&t&&a&&e.jsxs("div",{className:"flex items-center justify-between text-xs",children:[e.jsx("span",{className:"text-secondary-foreground w-1/5",children:"流量"}),e.jsxs("div",{className:"flex items-center justify-between w-4/5",children:[e.jsx("div",{className:"flex items-center w-1/4",children:s.traffic_limit!==0&&e.jsx(K,{value:m,maxValue:100,size:32,strokeWidth:4,showPercentage:!0})}),e.jsxs("div",{className:"w-3/4 text-right",children:[e.jsxs("div",{children:[e.jsxs("span",{children:["↑ ",a?d(a.net_total_up):"N/A"]}),e.jsxs("span",{className:"ml-2",children:["↓ ",a?d(a.net_total_down):"N/A"]})]}),s.traffic_limit!==0&&t&&a&&e.jsx("div",{className:"text-right",children:C(s.traffic_limit,s.traffic_limit_type)})]})]})]}),e.jsxs("div",{className:"flex justify-between text-xs",children:[e.jsx("span",{className:"text-secondary-foreground",children:"负载"}),e.jsx("span",{children:j})]}),e.jsxs("div",{className:"flex justify-between text-xs",children:[e.jsx("div",{className:"flex justify-start w-full",children:e.jsxs("span",{className:"text-secondary-foreground",children:["到期：",N]})}),e.jsx("div",{className:"border-l border-(--accent-4)/50 mx-2"}),e.jsx("div",{className:"flex justify-end w-full",children:e.jsx("span",{className:"text-secondary-foreground",children:t&&a?`在线：${W(a.uptime)}`:"离线"})})]})]})]})},Te=({enableSwap:s})=>{const n=s?"grid-cols-10":"grid-cols-9";return e.jsxs("div",{className:`text-primary font-bold grid ${n} text-center shadow-sm shadow-(color:--accent-4)/50 gap-4 p-2 items-center rounded-lg bg-card transition-colors duration-200`,children:[e.jsx("div",{className:"col-span-2",children:"节点名称"}),e.jsx("div",{className:"col-span-1",children:"CPU"}),e.jsx("div",{className:"col-span-1",children:"内存"}),s&&e.jsx("div",{className:"col-span-1",children:"SWAP"}),e.jsx("div",{className:"col-span-1",children:"硬盘"}),e.jsx("div",{className:"col-span-1",children:"网络"}),e.jsx("div",{className:"col-span-2",children:"流量"}),e.jsx("div",{className:"col-span-1",children:"负载"})]})},De=({node:s,enableSwap:n,enableListItemProgressBar:c,selectTrafficProgressStyle:a})=>{const{stats:t,isOnline:r,tagList:o,cpuUsage:l,memUsage:x,swapUsage:h,diskUsage:j,load:N,expired_at:m,trafficPercentage:v}=I(s),M=n?"grid-cols-10":"grid-cols-9";return e.jsxs("div",{className:`grid ${M} text-center shadow-sm shadow-(color:--accent-4)/50 gap-4 p-2 text-nowrap items-center rounded-lg ${r?"":"striped-bg-red-translucent-diagonal ring-2 ring-red-500/50"} text-secondary-foreground transition-colors duration-200`,children:[e.jsxs("div",{className:"col-span-2 flex items-center text-left",children:[e.jsx(q,{flag:s.region}),e.jsxs("div",{className:"ml-2 w-[85%]",children:[e.jsx(R,{to:`/instance/${s.uuid}`,children:e.jsx("div",{className:"text-base font-bold",children:s.name})}),e.jsx(z,{className:"text-xs",tags:o}),e.jsx("div",{className:"flex text-xs",children:e.jsxs("span",{className:"text-secondary-foreground",children:["到期：",m]})}),e.jsx("div",{className:"flex text-xs",children:e.jsx("span",{className:"text-secondary-foreground",children:r&&t?`在线：${W(t.uptime)}`:"离线"})})]})]}),e.jsxs("div",{className:"col-span-1 flex items-center text-left",children:[e.jsx(J,{className:"inline-block size-5 flex-shrink-0 text-blue-600"}),e.jsxs("div",{className:"ml-1 w-full items-center justify-center",children:[e.jsxs("div",{children:[s.cpu_cores," Cores"]}),c?e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(p,{value:l,h:"h-2"}),e.jsx("span",{className:"w-10 text-right text-xs",children:r?`${l.toFixed(0)}%`:"N/A"})]}):e.jsx("div",{children:r?`${l.toFixed(0)}%`:"N/A"})]})]}),e.jsxs("div",{className:"col-span-1 flex items-center text-left",children:[e.jsx(A,{className:"inline-block size-5 flex-shrink-0 text-green-600"}),e.jsxs("div",{className:"ml-1 w-full items-center justify-center",children:[e.jsx("div",{children:d(s.mem_total)}),c?e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(p,{value:x,h:"h-2"}),e.jsx("span",{className:"w-10 text-right text-xs",children:r?`${x.toFixed(0)}%`:"N/A"})]}):e.jsx("div",{children:r?`${x.toFixed(0)}%`:"N/A"})]})]}),n&&e.jsxs("div",{className:"col-span-1 flex items-center text-left",children:[e.jsx(A,{className:"inline-block size-5 flex-shrink-0 text-purple-600"}),s.swap_total>0?e.jsxs("div",{className:"ml-1 w-full items-center justify-center",children:[e.jsx("div",{children:d(s.swap_total)}),c?e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(p,{value:h,h:"h-2"}),e.jsx("span",{className:"w-10 text-right text-xs",children:r?`${h.toFixed(0)}%`:"N/A"})]}):e.jsx("div",{children:r?`${h.toFixed(0)}%`:"N/A"})]}):e.jsx("div",{className:"ml-1 w-full item-center justify-center",children:"OFF"})]}),e.jsxs("div",{className:"col-span-1 flex items-center text-left",children:[e.jsx(Q,{className:"inline-block size-5 flex-shrink-0 text-red-600"}),e.jsxs("div",{className:"ml-1 w-full items-center justify-center",children:[e.jsx("div",{children:d(s.disk_total)}),c?e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(p,{value:j,h:"h-2"}),e.jsx("span",{className:"w-10 text-right text-xs",children:r?`${j.toFixed(0)}%`:"N/A"})]}):e.jsx("div",{children:r?`${j.toFixed(0)}%`:"N/A"})]})]}),e.jsxs("div",{className:"col-span-1",children:[e.jsxs("div",{children:["↑ ",t?d(t.net_out,!0):"N/A"]}),e.jsxs("div",{children:["↓ ",t?d(t.net_in,!0):"N/A"]})]}),e.jsx("div",{className:"col-span-2",children:a==="linear"&&r&&t?e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:"w-full flex justify-center items-center",children:e.jsx("span",{children:t?`↑ ${d(t.net_total_up)} ↓ ${d(t.net_total_down)}`:"N/A"})}),s.traffic_limit!==0&&r&&t&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"w-[80%] flex items-center gap-1 mt-1",children:[e.jsx(p,{value:v,h:"h-2"}),e.jsx("span",{className:"text-right text-xs",children:s.traffic_limit!==0?`${v.toFixed(0)}%`:"OFF"})]}),e.jsx("div",{className:"text-xs text-secondary-foreground mt-1",children:C(s.traffic_limit,s.traffic_limit_type)})]})]}):e.jsxs("div",{className:"flex items-center justify-around",children:[s.traffic_limit!==0&&r&&t&&e.jsx("div",{className:"flex items-center justify-center w-1/3",children:e.jsx(K,{value:v,maxValue:100,size:32,strokeWidth:4,showPercentage:!0})}),e.jsxs("div",{className:s.traffic_limit!==0?"w-2/3 text-left":"w-full",children:[e.jsxs("div",{children:[e.jsxs("div",{children:["↑ ",t?d(t.net_total_up):"N/A"]}),e.jsxs("div",{children:["↓ ",t?d(t.net_total_down):"N/A"]})]}),s.traffic_limit!==0&&r&&t&&e.jsx("div",{children:C(s.traffic_limit,s.traffic_limit_type)})]})]})}),e.jsx("div",{className:"col-span-1",children:N.split("|").map((k,w)=>e.jsx("div",{children:k.trim()},w))})]})},y={selectedGroup:"所有",hasLoaded:!1},Be=({searchTerm:s,setSearchTerm:n,setStatsBarProps:c})=>{const{viewMode:a,statusCardsVisibility:t,setStatusCardsVisibility:r}=ne(),{nodes:o,loading:l,getGroups:x,error:h,refreshNodes:j}=ce(),{liveData:N}=oe(),[m,v]=u.useState(y.selectedGroup),[M,k]=u.useState(y.hasLoaded),{enableGroupedBar:w,enableStatsBar:Y,enableSwap:S,enableListItemProgressBar:ee,selectTrafficProgressStyle:U,enableCompactMode:$,mergeGroupsWithStats:se}=G(),T=u.useMemo(()=>o?o.map(i=>{const g=N?N[i.uuid]:void 0;return{...i,stats:g}}):[],[o,N]),b=u.useMemo(()=>["所有",...x()],[x]),{layoutIsMobile:ae}=de($),f=u.useMemo(()=>T.filter(i=>m==="所有"||i.group===m).filter(i=>i.name.toLowerCase().includes(s.toLowerCase())),[T,m,s]),L=s.trim().length>0,F=u.useMemo(()=>({onlineCount:f.filter(i=>i.stats?.online).length,totalCount:f.length,uniqueRegions:new Set(f.map(i=>i.region)).size,totalTrafficUp:f.reduce((i,g)=>i+(g.stats?.net_total_up||0),0),totalTrafficDown:f.reduce((i,g)=>i+(g.stats?.net_total_down||0),0),currentSpeedUp:f.reduce((i,g)=>i+(g.stats?.net_out||0),0),currentSpeedDown:f.reduce((i,g)=>i+(g.stats?.net_in||0),0)}),[f]);return u.useEffect(()=>{if(l)return;if(y.hasLoaded){k(!0);return}const i=setTimeout(()=>{k(!0),y.hasLoaded=!0},300);return()=>{clearTimeout(i)}},[l]),u.useEffect(()=>{!l&&!y.hasLoaded&&(y.hasLoaded=!0)},[l]),u.useEffect(()=>{y.selectedGroup=m},[m]),u.useEffect(()=>{c({displayOptions:t,setDisplayOptions:r,stats:F,loading:l,enableGroupedBar:w,groups:b,selectedGroup:m,onSelectGroup:v})},[t,r,F,l,w,b,m,v,c]),M?e.jsxs("div",{className:"fade-in",children:[Y&&(!$||ae)&&e.jsx(me,{displayOptions:t,setDisplayOptions:r,stats:F,loading:l,enableCompactMode:$,enableGroupedBar:w,groups:b,selectedGroup:m,onSelectGroup:v}),w&&!se&&e.jsxs("div",{className:"flex purcarte-blur theme-card-style overflow-auto whitespace-nowrap overflow-x-auto items-center min-w-[300px] text-secondary-foreground space-x-4 px-4 my-4",children:[e.jsx("span",{children:"分组"}),b?.map(i=>e.jsx(_,{variant:m===i?"secondary":"ghost",size:"sm",onClick:()=>v?.(i),children:i},i))]}),e.jsx("div",{className:"space-y-4 my-4",children:f.length>0?a==="grid"?e.jsx("div",{className:"grid grid-cols-[repeat(auto-fill,minmax(280px,1fr))] gap-4",children:f.map(i=>e.jsx(Ue,{node:i,enableSwap:S,selectTrafficProgressStyle:U},i.uuid))}):e.jsx(ue,{className:"purcarte-blur theme-card-style w-full",viewportProps:{className:"p-2"},showHorizontalScrollbar:!0,children:e.jsxs("div",{className:"space-y-2 min-w-[1080px]",children:[a==="table"&&e.jsx(Te,{enableSwap:S}),f.map(i=>e.jsx(De,{node:i,enableSwap:S,enableListItemProgressBar:ee,selectTrafficProgressStyle:U},i.uuid))]})}):e.jsx("div",{className:"flex flex-grow items-center justify-center",children:e.jsxs(B,{className:"w-full max-w-md",children:[e.jsxs(V,{children:[e.jsx(H,{className:"text-2xl font-bold",children:L?"Not Found":h?"获取节点数据失败":"暂无节点数据"}),e.jsx(fe,{children:L?"请尝试更改筛选条件":h?"获取节点数据失败，请重试":"请先通过管理端添加节点"})]}),e.jsx(pe,{children:L?e.jsx(_,{onClick:()=>n(""),className:"w-full",children:"清空搜索"}):h?e.jsx(_,{onClick:()=>void j(),className:"w-full",children:"重试"}):e.jsx(_,{onClick:()=>window.open("/admin","_blank","noopener,noreferrer"),className:"w-full",children:"添加节点"})})]})})})]}):e.jsx(xe,{text:"正在努力获取数据中...",className:l?"":"fade-out"})};export{Be as default};
